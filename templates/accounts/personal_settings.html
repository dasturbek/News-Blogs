{% extends 'base.html' %}
{% load static %}
{% block content %}
<!--================Blog Area =================-->
<section class="blog_area" style="padding-top: 50px; padding-bottom: 15px;">
    <div class="container">
        <div class="row">
            <div class="col-lg-4">
                <div class="blog_right_sidebar">
                    <aside class="single_sidebar_widget popular_post_widget">
                        <div class="media post_item">
                            {% if person.image %}
                            <img src="{{ person.image.url }}" alt="post"
                                style="height:80px;width:80px;border-radius: 50%;border: 1px solid black;">
                            {% else %}
                            <img src="{% static './accounts/images/user.gif' %}" alt="post"
                                style="height:80px;width:80px;border-radius: 50%;border: 1px solid black;">
                            {% endif %}
                            <div class="media-body">
                                {% if person.last_name or person.first_name %}
                                <h5>{{ person.last_name }} {{ person.first_name }}</h5>
                                {% else %}
                                <h4>%user</h4>
                                {% endif %}
                                <h3 style="color: rgb(92, 92, 92);">@{{person.username}}</h3>
                            </div>
                        </div>
                        <br>
                        <h3 class="widget_title" style="
                        display: block;
                        padding-bottom: 10px;
                        margin-bottom: 0px;
                        "></h3>
                        <p style="font-size: small;">
                            Bio: <span href="" style="color: black;">{{ person.bio }}</span></p>
                        <p style="font-size: small;">
                            Profession: <span href="" style="color: black;">{{ person.job }}</span></p>
                        <p style="font-size: small;"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18"
                                viewBox="0 0 24 24">
                                <path fill="currentColor"
                                    d="M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10s10-4.486 10-10S17.514 2 12 2zm0 18c-4.411 0-8-3.589-8-8s3.589-8 8-8s8 3.589 8 8s-3.589 8-8 8z" />
                                <path fill="currentColor" d="M13 7h-2v6h6v-2h-4z" />
                            </svg>
                            Last login: <a href="" style="color: black;">Online <span
                                    class="ml-1 online-status bg-success"></span></a></p>

                        <div class="btn-group-vertical"
                            style="width: 100%; margin: 5px 0; border-bottom: 1px solid rgb(200, 200, 200);">
                            <a href="{% url 'account' person.username %}" class="text-dark ahref"
                                style="padding-left: 5px;"><svg xmlns="http://www.w3.org/2000/svg" width="28"
                                    height="28" viewBox="0 0 24 24">
                                    <path fill="currentColor"
                                        d="M10 12c2.21 0 4-1.79 4-4s-1.79-4-4-4s-4 1.79-4 4s1.79 4 4 4m0-6a2 2 0 1 1 0 4c-1.11 0-2-.89-2-2s.9-2 2-2m-.73 14H2v-3c0-2.67 5.33-4 8-4c1.04 0 2.5.21 3.86.61c-.86.34-1.66.81-2.36 1.39c-.5-.06-1-.1-1.5-.1c-2.97 0-6.1 1.46-6.1 2.1v1.1h5.32c-.02.05-.05.1-.08.15l-.29.75l.29.75c.04.08.09.16.13.25M17 18c.56 0 1 .44 1 1s-.44 1-1 1s-1-.44-1-1s.44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4c.94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1 0-5a2.5 2.5 0 0 1 0 5Z" />
                                </svg>
                                Info</a>
                        </div>
                        {% if person.role == 'A' %}
                        <div class="btn-group-vertical"
                            style="width: 100%; margin: 5px 0; border-bottom: 1px solid rgb(200, 200, 200);">
                            <a href="{% url 'personal_articles' person.username %}" class="text-dark ahref"
                                style="padding-left: 5px;"><svg
                                xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 32 32">
                                <path fill="currentColor"
                                    d="M14.52 4.01a.507.507 0 0 0-.52.51V6.5c0 .28.22.5.5.5v.02c6.23.24 11.24 5.25 11.48 11.48H26c0 .28.22.5.5.5h1.98c.29 0 .52-.24.51-.52c-.27-7.86-6.61-14.2-14.47-14.47zm0 5a.514.514 0 0 0-.52.51v1.98c0 .28.22.5.5.5v.03c3.47.23 6.24 3 6.47 6.47H21c0 .28.22.5.5.5h1.98c.28 0 .52-.24.51-.52c-.27-5.1-4.37-9.2-9.47-9.47zM5.5 10c-.28 0-.5.22-.5.5v11c0 3.58 2.92 6.5 6.5 6.5s6.5-2.92 6.5-6.5s-2.92-6.5-6.5-6.5c-.28 0-.5.22-.5.5v3c0 .28.22.5.5.5a2.5 2.5 0 0 1 0 5A2.5 2.5 0 0 1 9 21.5v-11c0-.28-.22-.5-.5-.5h-3z" />
                            </svg>
                                Articles</a>
                        </div>
                        {% endif %}
                        <div class="btn-group-vertical"
                            style="width: 100%; margin: 5px 0; border-bottom: 1px solid rgb(200, 200, 200);">
                            <a href="{% url 'personal_posts' person.username %}" class="text-dark ahref" style="padding-left: 5px;"><svg
                                    xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 32 32">
                                    <path fill="currentColor"
                                        d="M14.52 4.01a.507.507 0 0 0-.52.51V6.5c0 .28.22.5.5.5v.02c6.23.24 11.24 5.25 11.48 11.48H26c0 .28.22.5.5.5h1.98c.29 0 .52-.24.51-.52c-.27-7.86-6.61-14.2-14.47-14.47zm0 5a.514.514 0 0 0-.52.51v1.98c0 .28.22.5.5.5v.03c3.47.23 6.24 3 6.47 6.47H21c0 .28.22.5.5.5h1.98c.28 0 .52-.24.51-.52c-.27-5.1-4.37-9.2-9.47-9.47zM5.5 10c-.28 0-.5.22-.5.5v11c0 3.58 2.92 6.5 6.5 6.5s6.5-2.92 6.5-6.5s-2.92-6.5-6.5-6.5c-.28 0-.5.22-.5.5v3c0 .28.22.5.5.5a2.5 2.5 0 0 1 0 5A2.5 2.5 0 0 1 9 21.5v-11c0-.28-.22-.5-.5-.5h-3z" />
                                </svg>
                                Posts</a>
                        </div>
                        {% if user == person %}
                        {% if person.role == 'A' %}
                        <div class="btn-group-vertical"
                            style="width: 100%; margin: 5px 0; border-bottom: 1px solid rgb(200, 200, 200);">
                            <a href="{% url 'create_article' %}" class="text-dark ahref" style="padding-left: 5px;"><svg
                                    xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24">
                                    <path fill="currentColor"
                                        d="M21 12a1 1 0 0 0-1 1v6a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h6a1 1 0 0 0 0-2H5a3 3 0 0 0-3 3v14a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-6a1 1 0 0 0-1-1Zm-15 .76V17a1 1 0 0 0 1 1h4.24a1 1 0 0 0 .71-.29l6.92-6.93L21.71 8a1 1 0 0 0 0-1.42l-4.24-4.29a1 1 0 0 0-1.42 0l-2.82 2.83l-6.94 6.93a1 1 0 0 0-.29.71Zm10.76-8.35l2.83 2.83l-1.42 1.42l-2.83-2.83ZM8 13.17l5.93-5.93l2.83 2.83L10.83 16H8Z" />
                                </svg>
                                Create Article</a>
                        </div>
                        {% endif %}
                        <div class="btn-group-vertical"
                            style="width: 100%; margin: 5px 0; border-bottom: 1px solid rgb(200, 200, 200);">
                            <a href="{% url 'create_post' %}" class="text-dark ahref" style="padding-left: 5px;"><svg
                                    xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 32 32">
                                    <path fill="currentColor" d="M30 24h-4v-4h-2v4h-4v2h4v4h2v-4h4z" />
                                    <path fill="currentColor"
                                        d="M15.4 30L5 23.8c-.6-.4-1-1-1-1.7V9.9c0-.7.4-1.4 1-1.7l10-5.9c.3-.2.6-.3 1-.3s.7.1 1 .3l10 5.9c.6.4 1 1 1 1.7V16h-2V9.9L16 4L6 9.9v12.2l10.5 6.2l-1.1 1.7z" />
                                </svg>
                                Create Post</a>
                        </div>
                        <div class="btn-group-vertical"
                            style="width: 100%; margin: 5px 0; border-bottom: 1px solid rgb(200, 200, 200);">
                            <a href="{% url 'settings_profile' %}" class="text-dark ahref"
                                style="padding-left: 5px;"><svg xmlns="http://www.w3.org/2000/svg" width="28"
                                    height="28" viewBox="0 0 32 32">
                                    <path fill="currentColor"
                                        d="M27 16.76v-1.53l1.92-1.68A2 2 0 0 0 29.3 11l-2.36-4a2 2 0 0 0-1.73-1a2 2 0 0 0-.64.1l-2.43.82a11.35 11.35 0 0 0-1.31-.75l-.51-2.52a2 2 0 0 0-2-1.61h-4.68a2 2 0 0 0-2 1.61l-.51 2.52a11.48 11.48 0 0 0-1.32.75l-2.38-.86A2 2 0 0 0 6.79 6a2 2 0 0 0-1.73 1L2.7 11a2 2 0 0 0 .41 2.51L5 15.24v1.53l-1.89 1.68A2 2 0 0 0 2.7 21l2.36 4a2 2 0 0 0 1.73 1a2 2 0 0 0 .64-.1l2.43-.82a11.35 11.35 0 0 0 1.31.75l.51 2.52a2 2 0 0 0 2 1.61h4.72a2 2 0 0 0 2-1.61l.51-2.52a11.48 11.48 0 0 0 1.32-.75l2.42.82a2 2 0 0 0 .64.1a2 2 0 0 0 1.73-1l2.28-4a2 2 0 0 0-.41-2.51ZM25.21 24l-3.43-1.16a8.86 8.86 0 0 1-2.71 1.57L18.36 28h-4.72l-.71-3.55a9.36 9.36 0 0 1-2.7-1.57L6.79 24l-2.36-4l2.72-2.4a8.9 8.9 0 0 1 0-3.13L4.43 12l2.36-4l3.43 1.16a8.86 8.86 0 0 1 2.71-1.57L13.64 4h4.72l.71 3.55a9.36 9.36 0 0 1 2.7 1.57L25.21 8l2.36 4l-2.72 2.4a8.9 8.9 0 0 1 0 3.13L27.57 20Z" />
                                    <path fill="currentColor"
                                        d="M16 22a6 6 0 1 1 6-6a5.94 5.94 0 0 1-6 6Zm0-10a3.91 3.91 0 0 0-4 4a3.91 3.91 0 0 0 4 4a3.91 3.91 0 0 0 4-4a3.91 3.91 0 0 0-4-4Z" />
                                </svg>
                                Settings</a>
                        </div>
                        <div class="btn-group-vertical" style="width: 100%; margin: 5px 0;">
                            <a href="{% url 'logout' %}" class="text-dark ahref" style="padding-left: 5px;"><svg
                                    xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 20 20">
                                    <path fill="currentColor" fill-rule="evenodd"
                                        d="M3 3a1 1 0 0 0-1 1v12a1 1 0 1 0 2 0V4a1 1 0 0 0-1-1Zm10.293 9.293a1 1 0 0 0 1.414 1.414l3-3a1 1 0 0 0 0-1.414l-3-3a1 1 0 1 0-1.414 1.414L14.586 9H7a1 1 0 1 0 0 2h7.586l-1.293 1.293Z"
                                        clip-rule="evenodd" />
                                </svg>
                                Log Out</a>
                        </div>
                        {% endif %}
                        <style>
                            .ahref {
                                font-size: large;
                                padding-top: 5px;
                                padding-bottom: 5px;
                            }
                        </style>
                    </aside>
                </div>
            </div>
            <div class="col-lg-8 mb-5 mb-lg-0">
                <!--Nav Button  -->
                <nav>
                    <div class="nav nav-tabs" id="nav-tab" role="tablist">
                        <a style="color: rgb(109, 109, 109);" class="nav-item nav-link active" data-toggle="tab"
                            href="#Info" role="tab" aria-selected="true">Details</a>
                        <a style="color: rgb(109, 109, 109);" class="nav-item nav-link" data-toggle="tab"
                            href="#addphone" role="tab" aria-selected="false">Phone Number</a>
                        <a style="color: rgb(109, 109, 109);" class="nav-item nav-link" data-toggle="tab"
                            href="#changeEmail" role="tab" aria-selected="false">Change Email</a>
                        <a style="color: rgb(109, 109, 109);" class="nav-item nav-link" data-toggle="tab"
                            href="#changePass" role="tab" aria-selected="false">Change Password</a>
                        <a style="color: rgb(109, 109, 109);" class="nav-item nav-link" data-toggle="tab"
                            href="#Notifications" role="tab" aria-selected="false">Notifications</a>
                    </div>
                </nav>
                <!--End Nav Button  -->
                <div class="blog_left_sidebar">
                    <!-- Nav Card -->
                    <div class="tab-content" id="nav-tabContent">
                        <!-- Info -->
                        <div class="tab-pane fade show active" id="Info" role="tabpanel">
                            <form action="{% url 'details' %}" method="POST" style="margin-top: 35px;" enctype="multipart/form-data">
                                {% csrf_token %}
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <input type="text" class="form-control" name="first_name"
                                                placeholder="First Name" value="{{person.first_name}}">
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <input type="text" class="form-control" name="last_name"
                                                placeholder="Last Name" value="{{person.last_name}}">
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <input type="text" class="form-control" name="username"
                                                placeholder="Username" value="{{person.username}}">
                                        </div>
                                    </div>
                                    <div class="col-md-6">                                        
                                        <div class="form-group">
                                            <input type="file" class="form-control" name="image" accept="image/*">
                                        </div>
                                    </div>
                                    <div class="col-md-12">
                                        <div class="form-group">
                                            <textarea type="text" class="form-control" name="bio"
                                                placeholder="Bio">{{person.bio}}</textarea>
                                        </div>
                                    </div><div class="col-md-6">
                                        <div class="form-group">
                                            <input type="text" class="form-control" name="job"
                                                placeholder="Last Name" value="{{person.job}}">
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <input type="number" class="form-control" name="staj"
                                                placeholder="Ish staj" value="{{person.staj}}">
                                        </div>
                                    </div>
                                    <div class="col-md-6" style="padding-top: 15px;font-size: medium;">
                                        Username is available
                                    </div>
                                    <div class="col-md-6 text-right">
                                        <div class="form-group">
                                            <input type="submit" value="Save" class="btn btn-primary sign-up"
                                                style="background-color: rgb(255, 42, 42);">
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>
                        <!-- Addphone -->
                        <div class="tab-pane fade" id="addphone" role="tabpanel" aria-labelledby="nav-profile-tab">
                            <form action="{% url 'phone_number' %}" method="POST" style="margin-top: 35px;">
                                {% csrf_token %}
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="form-group">
                                            <input type="text" class="form-control" name="phone"
                                                placeholder="Phone Number" value="{{person.phone_number}}">
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                    </div>
                                    <div class="col-md-6 text-right">
                                        <div class="form-group">
                                            <input type="submit" value="Next" class="btn btn-primary sign-up"
                                                style="background-color: rgb(255, 42, 42);">
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>
                        <!-- change Email -->
                        <div class="tab-pane fade" id="changeEmail" role="tabpanel" aria-labelledby="nav-profile-tab">
                            <form action="{% url 'change_email' %}" method="POST" style="margin-top: 35px;">
                                {% csrf_token %}
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="form-group">
                                            <input type="email" class="form-control" name="email"
                                                placeholder="New Email Address">
                                        </div>
                                    </div>
                                    <!-- <div class="col-md-6">
                                    </div> -->
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <a href="" onclick="document.getElementById('id01').style.display='block'"><input type="button" value="Next" class="btn btn-primary sign-up"
                                                style="background-color: rgb(255, 42, 42);"></a>
                                        </div>
                                    </div>
                                    <div class="col-md-6 text-right">
                                        <div class="form-group">
                                            <input type="submit" value="Next" class="btn btn-primary sign-up"
                                                style="background-color: rgb(255, 42, 42);">
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>
                        <!-- Change Password -->
                        <div class="tab-pane fade" id="changePass" role="tabpanel" aria-labelledby="nav-profile-tab">
                            <form action="{% url 'change_password' %}" method="POST" style="margin-top: 35px;">
                                {% csrf_token %}
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="form-group">
                                            <input type="password" class="form-control" name="password"
                                                placeholder="Current Password">
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <input type="password" class="form-control" name="new_password1"
                                                placeholder="New Password">
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <input type="password" class="form-control" name="new_password2"
                                                placeholder="New Confirm Password">
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                    </div>
                                    <div class="col-md-6 text-right">
                                        <div class="form-group">
                                            <input type="submit" value="Save" class="btn btn-primary sign-up"
                                                style="background-color: rgb(255, 42, 42);">
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>
                        <!-- Notifications -->
                        <div class="tab-pane fade" id="Notifications" role="tabpanel" aria-labelledby="nav-profile-tab">
                            <form method="POST" style="margin-top: 35px;">
                                {% csrf_token %}
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="form-group">
                                            <input type="checkbox" class="form-control" name="password" value="text"
                                                placeholder="Current Password">
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                    </div>
                                    <div class="col-md-6 text-right">
                                        <div class="form-group">
                                            <input type="submit" value="Save" class="btn btn-primary sign-up"
                                                style="background-color: rgb(255, 42, 42);">
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<!--================Blog Area =================-->
{% endblock %}



<div id="id01" class="modalpost">
    <span onclick="document.getElementById('id01').style.display='none'" class="closepost"
        title="Close Modal">&times;</span>
    <form class="modal-contentpost" action="" method="post">
        {% csrf_token %}
        <div class="containerpost">
            <h3>Delete Post</h3>
            <p>Send code to Your email. Please input Code</p>
            <div class="clearfix">
                <input type="text" name="code">
            </div>
            <div class="clearfix">
                <input onclick="document.getElementById('id01').style.display='none'" type="button"
                    class="cancelbtnpost buttonpost" value="Cancel">
                <input type="submit" class="deletebtnpost buttonpost" value="Delete">
            </div>
        </div>
    </form>
</div>

<script>
    // Get the modal
    var modal = document.getElementById('id01');

    // When the user clicks anywhere outside of the modal, close it
    window.onclick = function (event) {
        if (event.target == modal) {
            modal.style.display = "none";
        }
    }
</script>

<style>
    /* Set a style for all buttons */
    .buttonpost {
        background-color: #04AA6D;
        color: white;
        padding: 5px 1px;
        margin: 8px 0;
        border: none;
        cursor: pointer;
        width: 30%;
        opacity: 0.9;
    }

    .buttonpost:hover {
        opacity: 1;
    }

    /* Add a color to the cancel button */
    .cancelbtnpost {
        background-color: #ccc;
        color: black;
        float: left;
        margin-right: 7%;
        margin-left: 13%;
        width: 30%;
    }

    /* Add a color to the delete button */
    .deletebtnpost {
        background-color: #f44336;
        float: left;
        margin-right: 13%;
        margin-left: 7%;
        width: 30%;
    }

    /* Add padding and center-align text to the container */
    .containerpost {
        padding: 16px;
        text-align: center;
    }

    /* The Modal (background) */
    .modalpost {
        display: none;
        /* Hidden by default */
        position: fixed;
        /* Stay in place */
        left: 0;
        top: 0;
        width: 100%;
        /* Full width */
        height: 100%;
        /* Full height */
        overflow: auto;
        /* Enable scroll if needed */
        padding-top: 100px;
    }

    /* Modal Content/Box */
    .modal-contentpost {
        background-color: #f5f5f5;
        margin: 5% 30%;
        /* 5% from the top, 15% from the bottom and centered */
        border: 1px solid #888;
        width: 35%;
        /* Could be more or less, depending on screen size */
        height: 30%;
    }

    /* Change styles for cancel button and delete button on extra small screens */
    @media screen and (max-width: 300px) {

        .cancelbtnpost,
        .deletebtnpost {
            width: 50%;
        }
    }
</style>

